<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clima Argentina | Turismo 360</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #0081a7;
            --bg: #f8f9fa;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }

        h1 { color: var(--primary); margin-bottom: 5px; }
        .subtitle { color: #666; margin-bottom: 30px; font-size: 0.9em; }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: 0.3s;
        }

        .card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        .emoji { font-size: 30px; display: block; margin-bottom: 5px; }
        .name { font-size: 12px; font-weight: 600; color: #999; text-transform: uppercase; }
        .temp { font-size: 22px; font-weight: 600; }

        #status { padding: 40px; color: var(--primary); font-weight: 600; }
    </style>
</head>
<body>

    <div class="container">
        <h1>ðŸŒ¤ Clima en Argentina</h1>
        <p class="subtitle">Datos actualizados de Turismo Argentino 360</p>
        
        <div id="status">Obteniendo datos del tiempo...</div>
        <div class="grid" id="clima-grid"></div>
    </div>

    <script>
        const provincias = [
            {n: "Buenos Aires", lat: -34.61, lon: -58.38},
            {n: "Catamarca", lat: -28.47, lon: -65.78},
            {n: "Chaco", lat: -27.45, lon: -58.99},
            {n: "Chubut", lat: -43.30, lon: -65.10},
            {n: "CÃ³rdoba", lat: -31.42, lon: -64.18},
            {n: "Corrientes", lat: -27.48, lon: -58.83},
            {n: "Entre RÃ­os", lat: -31.73, lon: -60.53},
            {n: "Formosa", lat: -26.18, lon: -58.17},
            {n: "Jujuy", lat: -24.18, lon: -65.30},
            {n: "La Pampa", lat: -36.62, lon: -64.29},
            {n: "La Rioja", lat: -29.41, lon: -66.85},
            {n: "Mendoza", lat: -32.89, lon: -68.83},
            {n: "Misiones", lat: -27.37, lon: -55.90},
            {n: "NeuquÃ©n", lat: -38.95, lon: -68.06},
            {n: "RÃ­o Negro", lat: -41.13, lon: -71.31},
            {n: "Salta", lat: -24.78, lon: -65.41},
            {n: "San Juan", lat: -31.54, lon: -68.52},
            {n: "San Luis", lat: -33.30, lon: -66.34},
            {n: "Santa Cruz", lat: -51.62, lon: -69.22},
            {n: "Santa Fe", lat: -31.62, lon: -60.69},
            {n: "Sgo. del Estero", lat: -27.79, lon: -64.26},
            {n: "T. del Fuego", lat: -54.80, lon: -68.30},
            {n: "TucumÃ¡n", lat: -26.83, lon: -65.22},
            {n: "CABA", lat: -34.61, lon: -58.38}
        ];

        function getEmoji(t) {
            if (t >= 32) return "ðŸ¥µ";
            if (t >= 24) return "â˜€ï¸";
            if (t >= 17) return "ðŸŒ¤ï¸";
            if (t >= 10) return "â˜ï¸";
            if (t >= 0) return "â„ï¸";
            return "ðŸ¥¶";
        }

        async function cargarClima() {
            const grid = document.getElementById("clima-grid");
            const status = document.getElementById("status");

            // Creamos las listas de latitudes y longitudes separadas por coma
            const lats = provincias.map(p => p.lat).join(",");
            const lons = provincias.map(p => p.lon).join(",");
            
            const url = `https://api.open-meteo.com/v1/forecast?latitude=${lats}&longitude=${lons}&current=temperature_2m`;

            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error("Error en la API");
                
                const data = await response.json();
                
                // Limpiamos el cargando
                status.style.display = "none";
                
                // Open-Meteo devuelve un array si le pasas mÃºltiples coordenadas
                data.forEach((resultado, index) => {
                    const temp = Math.round(resultado.current.temperature_2m);
                    const nombre = provincias[index].n;

                    const card = document.createElement("div");
                    card.className = "card";
                    card.innerHTML = `
                        <span class="emoji">${getEmoji(temp)}</span>
                        <div class="name">${nombre}</div>
                        <div class="temp">${temp}Â°C</div>
                    `;
                    grid.appendChild(card);
                });

            } catch (error) {
                console.error(error);
                status.innerText = "Error de conexiÃ³n. Prueba recargar la pÃ¡gina.";
                status.style.color = "red";
            }
        }

        cargarClima();
    </script>
</body>
</html>
